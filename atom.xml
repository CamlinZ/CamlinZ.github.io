<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Camlin Zhang&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://camlinzhang.com/"/>
  <updated>2019-03-25T04:00:43.539Z</updated>
  <id>http://camlinzhang.com/</id>
  
  <author>
    <name>Camlin Zhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>树莓派实现上传文件到百度云</title>
    <link href="http://camlinzhang.com/2017/05/25/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%9E%E7%8E%B0%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0%E7%99%BE%E5%BA%A6%E4%BA%91/"/>
    <id>http://camlinzhang.com/2017/05/25/树莓派实现上传文件到百度云/</id>
    <published>2017-05-25T02:03:38.000Z</published>
    <updated>2019-03-25T04:00:43.539Z</updated>
    
    <content type="html"><![CDATA[<p>自己开的第一篇帖，因为因为这个小问题一直弄了两天，终于在小伙伴的帮助下完成了，开个贴纪念下。。。<br>以下介绍两种方法：</p><h2 id="一、利用python的baidupcsapi包来进行上传"><a href="#一、利用python的baidupcsapi包来进行上传" class="headerlink" title="一、利用python的baidupcsapi包来进行上传"></a>一、利用python的baidupcsapi包来进行上传</h2><p>（网上一般都是我下面要说的第二种方法）<br>完成上面的任务首先需要在树莓派上面用pip装上一个baidupcsapi的python包：<code>sudo pip install baidupcsapi</code><br>（注意此处如果把GitHub里面的包复制到树莓派pyhton下的dist-package中是不行的，必须用以上命令安装才可以。）<br>但是问题就来了，pip安装这个包会出现以下问题：<img src="http://img.blog.csdn.net/20170525100432926?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2luYXRfMjg3MzE1NzU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>（这个是我安装另一个bypy包出现的问题，跟安装baidupcsapi的问题是一样的，因为安装baidupcsapi出问题的图我找不到了。。。）<br>网上有很多这个的教程：<a href="http://www.jianshu.com/p/785bb1f4700d" target="_blank" rel="noopener">http://www.jianshu.com/p/785bb1f4700d</a><br>但是问题又来了，当我在/root下添加文件夹.pip，然后再这个文件夹下添加pip.conf之后，始终还是报上面的错误。这时小伙伴的作用就显现了，他把.pip这个文件夹放在了所谓的主目录/home下，而不是根目录下，结果神奇般的好了。其实刚开始也还是有问题，删了一遍然后重新新建就好了。（有大神知道为啥可以告诉我一下）具体命令如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd home</span><br><span class="line">sudo mkdir .pip</span><br><span class="line">cd .pip</span><br><span class="line">sudo nano pip.conf</span><br></pre></td></tr></table></figure><p>再在pip.conf里面加上上面教程里面的内容就可以了。<br>这个时候不论是baidupcsapi这个python包还是后面要讲到的bypy都可以下载了。<br>安装成功后，就可以参考 <a href="https://github.com/ly0/baidupcsapi" target="_blank" rel="noopener">https://github.com/ly0/baidupcsapi</a> 里面的有关baidupcs的有关内容，相关api参考<a href="http://baidupcsapi.readthedocs.io/en/latest/api.html#" target="_blank" rel="noopener">http://baidupcsapi.readthedocs.io/en/latest/api.html#</a><br>以下贴一段测试代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from baidupcsapi import PCS</span><br><span class="line"></span><br><span class="line">pcs = PCS(&apos;百度云用户名&apos;, &apos;百度云密码&apos;)</span><br><span class="line">test_file = open(&apos;文件路径&apos;, &apos;r&apos;)</span><br><span class="line">ret = pcs.upload(&apos;百度云存储路径&apos;, test_file, &apos;12345.png&apos;, callback=None)</span><br></pre></td></tr></table></figure><p>运行上面的代码后会显示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://passport.baidu.com/cgi-bin/genimage?jxGf007e28cc192c11502d114fa9801657b072c4406c3053114</span><br><span class="line">open url aboved with your web browser, then input verify code &gt;</span><br></pre></td></tr></table></figure><p>把上面的地址复制到浏览器打开后，会有个验证码复制上去就好了。多次登录之后就会默认用户，就可以不用验证码了。</p><h2 id="二、利用百度云盘的python客户端进行命令行上传"><a href="#二、利用百度云盘的python客户端进行命令行上传" class="headerlink" title="二、利用百度云盘的python客户端进行命令行上传"></a>二、利用百度云盘的python客户端进行命令行上传</h2><p>网上的教程基本上都是用这个这种方法来进行上传的，如下两个链接：<br><a href="http://blog.csdn.net/a_lpha/article/details/53637669" target="_blank" rel="noopener">http://blog.csdn.net/a_lpha/article/details/53637669</a><br><a href="http://tieba.baidu.com/p/3439470932" target="_blank" rel="noopener">http://tieba.baidu.com/p/3439470932</a><br>但是我试了之后先开始是没有办法用：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install bypy</span><br></pre></td></tr></table></figure><p>安装bypy包，然后用上面的方法换pip源之后就可以安装了，可是又没法用命令：<br><code>sudo bypy.py info</code><br>来执行命令，结合下面那个链接的内容，抱着试一试的心态试了一下用命令：<br><code>python -m bypy info</code></p><p><img src="http://img.blog.csdn.net/20170525165652795?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2luYXRfMjg3MzE1NzU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>结果成功了，网上说python后面的-m参数是将模块按照脚本执行，其实也并不是很清楚为啥，感觉自己真的是码代码靠火的赶脚。</p><p>至此，因为pip的换源成功终于把两种方法都弄好了，好开森！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;自己开的第一篇帖，因为因为这个小问题一直弄了两天，终于在小伙伴的帮助下完成了，开个贴纪念下。。。&lt;br&gt;以下介绍两种方法：&lt;/p&gt;
&lt;h2 id=&quot;一、利用python的baidupcsapi包来进行上传&quot;&gt;&lt;a href=&quot;#一、利用python的baidupcsapi包
      
    
    </summary>
    
      <category term="技术博客" scheme="http://camlinzhang.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="其他" scheme="http://camlinzhang.com/categories/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="树莓派" scheme="http://camlinzhang.com/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="百度云" scheme="http://camlinzhang.com/tags/%E7%99%BE%E5%BA%A6%E4%BA%91/"/>
    
  </entry>
  
</feed>
